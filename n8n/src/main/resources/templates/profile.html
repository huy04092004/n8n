<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Thông tin cá nhân - Phòng khám</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="nav-menu">
            <div>
                <span th:text="${user.fullName}"></span>
            </div>
            <div>
                <a th:href="@{/}">Trang chủ</a>
                <a th:href="@{/appointments}">Lịch khám</a>
                <a th:href="@{/profile}">Thông tin cá nhân</a>
                <a th:href="@{/auth/logout}">Đăng xuất</a>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main style="max-width: 800px; margin: 0 auto; padding: 2rem;">
        <div class="form-container">
            <h2>Thông tin cá nhân</h2>

            <!-- Hiển thị thông báo thành công -->
            <div th:if="${success}" class="alert alert-success" th:text="${success}"></div>

            <form th:action="@{/profile/update}" method="post">
                <input type="hidden" name="id" th:value="${user.id}" />
                
                <div class="form-group">
                    <label>Họ và tên:</label>
                    <input type="text" name="fullName" th:value="${user.fullName}" required>
                </div>

                <div class="form-group">
                    <label>Email:</label>
                    <input type="email" name="email" th:value="${user.email}" required>
                </div>

                <div class="form-group">
                    <label>Số điện thoại:</label>
                    <input type="tel" name="phone" th:value="${user.phone}" required>
                </div>

                <div class="form-group">
                    <label>Ngày sinh:</label>
                    <input type="date" name="dateOfBirth" th:value="${user.dateOfBirth}">
                </div>

                <div class="form-group">
                    <label>Giới tính:</label>
                    <select name="gender">
                        <option value="">Chọn giới tính</option>
                        <option th:value="'MALE'" th:text="'Nam'" th:selected="${user.gender == 'MALE'}"></option>
                        <option th:value="'FEMALE'" th:text="'Nữ'" th:selected="${user.gender == 'FEMALE'}"></option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Địa chỉ:</label>
                    <textarea name="address" rows="3" th:text="${user.address}"></textarea>
                </div>

                <div class="form-group">
                    <label>Mật khẩu mới:</label>
                    <input type="password" name="newPassword" placeholder="Để trống nếu không muốn thay đổi">
                </div>

                <div class="form-group">
                    <label>Xác nhận mật khẩu mới:</label>
                    <input type="password" name="confirmPassword" placeholder="Để trống nếu không muốn thay đổi">
                </div>

                <div class="form-group" style="text-align: center;">
                    <button type="submit" class="btn btn-primary">Cập nhật thông tin</button>
                </div>
            </form>
        </div>
    </main>

    <!-- Footer -->
    <footer style="text-align: center; padding: 2rem; background-color: #2c3e50; color: white; margin-top: 2rem;">
        <p>&copy; 2024 Phòng khám. All rights reserved.</p>
    </footer>
</body>
</html> 